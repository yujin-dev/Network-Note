> 빠르게 살펴보는 IT 보안

## IPS, IDS, Firewall
- IPS : 네트워크 트래픽을 스캐닝하여 악성 공격을 감지하고 방어한다.( ex. Dos, DDos )
- IDS : 수동적으로 시스템으로 트래픽을 모니터링 및 스캔하고 보고한다.
- Firewall : 미리 할당된 보안규칙을 기반으로 방어 대상 시스템으로 in-bound, out-bound 트래픽을 분석한다.

## 방화벽 vs. IPS
- 방화벽 : IP주소, 포트 번호 기반으로 트래픽을 필터링한다.
- IPS : 실시간 트래픽을 검사하고 트래픽 패턴이나 공격 시그니처를 공격을 탐지 및 방지한다.( ex. 표준길이가 아닌 IP 패킷, 버퍼 오버플로우, Dos, DDos 공격 )

## 네트워크의 비무장지대, DMZ 네트워크
DMZ 네트워크는 내부 네트워크(LAN)에 존재하지만 외부에서 접근이 가능한 구간이다.

## NAT(Network Address Translation)
라우터 등의 장비를 이용하여 사설 IP를 공인 IP로 변환하는 주소 변환 서비스이다.
NAT Forwarding Table에 IP주소 + 포트번호 정보를 보관하여 사용한다. 공인IP는 같으나 포트 번호를 다르게 할당하여 각각의 호스트를 구분한다.
### IP 마스쿼레이딩
하나의 공인 IP 뒤로 여러 개의 사설 IP를 은닉하는 마스쿼레이딩을 사용한다.

## HTTPS를 위한 SSL/TLS
웹 브라우저, 웹 서버에서 적용되는 보안 HTTP로, 웹 서버에 SSL/TLS 인증서를 설치하여 사용한다.

- 대칭키 암호화 : 하나의 키로 암호화 및 복호화한다.
- 공개키 암호화 : 공개키 - 개인키의 한쌍으로 각각 암호화 및 복호화한다. 일반적으로 공개키로 암호화하여 개인키로 복호화한다. 개인키를 먼저 생성하고 공객키를 파생시키는 형식이다.

### SSL handshaking
1. 웹 브라우저 -> 웹 서버 : client hello
2. 웹 서버 -> 웹 브라우저 : server hello
3. 웹 브라우저 : 받은 서버 인증서를 확인한다. 대부분의 브라우저에는 공신력 있는 CA 정보와 CA가 만든 공개키가 이미 설치되어 있어, 공개키를 통해 인증서를 복호화하여 확인한다.
4. 웹 브라우저 -> 웹 서버 : 공개키로 데이터를 암호화하여 premaster secret을 전송한다.
5. 웹 서버 : 서버의 개인키로 premaster secret을 복호화하여 master secret값으로 저장한다. 
6. HTTPS 통신 연결 : 대칭키 암호화인 session key를 생성하여 이후의 통신에 사용한다.

## DNS
인터넷 도메인의 레코드를 제공하기 위해 네트워크 구간에 설치되어 운영되는 서버이다.
### DNSSEC( DNS Security Extensions )
- 브라우저(클라이언트) : DNS Resolver에 요청한다.
- DNS Resolver : 도메인의 정보를 요청하고 캐시하는 서버로 DNS 서버에 요청한다.
- DNS Server : DNS 정보를 알려주는 서버이다.

## Root CA
Root CA 인증서는 CA에서 자체 서명한 인증서로, 공개키 기반 암호화를 사용한다.  
디지털 인증서는 보안이 필요한 인터넷 통신에서 상대방이 통신하고자 하는 대상이 맞음을 확인시켜준다.
- server -> CA : 사용자에서 keypair를 생성하여 CA에 신원을 증명한다.
- CA -> server : 인증서를 발급한다.
- server -> browser : 공개키를 포함한 인증서를 전달한다.
- browser -> CA : 인증서 확인을 요청하고 CA에서 확인한다.
- browser -> server : 공개키로 암호화된 데이터를 전달한다.
- server : 비밀키로 데이터 복호화 및 열람한다.

## HSTS(HTTP Strict Transport Security)
HTTPS 요청에 대해서만 응답하도록 한다. HSTS에 등록되어 있으면 상태코드 307을 내뱉고 HTTPS로 재전송한다.
