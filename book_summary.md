# 쉽게 배우는 데이터 통신과 컴퓨터 네트워크 - 요약

- 시스템과 전송 매체의 연결 지점에 대한 규격을 **인터페이스**라고 한다.
- 시스템이 데이터를 교환할 때 **프로토콜**이라는 통신 규칙에 따른다.
- **인터네트워킹**이란 네트워크 간의 연결이며, 인터네트워킹 기능을 하는 시스템을 **게이트웨이**라고 한다. 게이트웨이는 보통 리피터/브리지/라우터로 구분되며 리피터는 물리 계층 기능을 지원하며, 브리지는 데이터 링크 계층의 오류를 제어한다. 라우터는 물리+데이터 링크+네트워크 계층의 기능을 지원한다.
- 데이터를 소위 **PDU**라는 특정 형태로 규격화한다. 네트워크 계층에서는 **패킷**, 데이터 링크 계층에서는 **프레임**이라는 용어로 사용된다.
- 주소는 유일성/확장성/편리성/함축성의 특징을 갖는다.
- **IP 주소**는 네트워크 계층의 기능을 담당하는 IP 프로토콜이 호스트를 구분하기 위해 사용하는 주소 체계이다. 32비트의 binary 숫자로 구성되는데 보통 8비트씩 네 부분을 나누어 xxx.xxx.xxx.xx형식으로 사용된다. 
- OSI 7 계층 모델의 각 계층에선 목적에 따라 사용하는 주소의 형태가 다를 수 있다. *MAC 주소*는 데이터 링크 계층에서 사용하며 보통 LAN 카드에 내장되어 있다. *IP 주소*는 네트워크 계층에서 사용되며 라우팅의 기준이 된다. *포트 주소*는 전송 계층에서 사용되며 호스트에서 실행 중인 프로세스를 구분해준다. *메일 주소*는 응용 계층의 메일 시스템에서 사용되는 예다.
- 일다대 통신에서 특정 네트워크에 연결된 모든 호스트에 데이터를 전송할 수 있는 **브로드캐스팅**이 있고, 사용자를 그룹으로 묶어서 지칭하는 **멀티 캐스팅**이 있다.

오류 제어
- 데이터 송수신 과정에서 오류가 발생할 수 있는데, 데이터가 깨져서 도착하는 **데이터 변형 오류**와 데이터가 유실되는 **데이터 분실 오류**가 있다. 

흐름 제어
- 송수신 호스트 사이에서 데이터 전송/처리 속도 차이 때문에 데이터가 분실되기도 한다. 수신 호스트의 버퍼 처리 속도보다 송신 호스트에서 데이터를 전송하는 속도가 빠르면 분실 오류가 발생하므로 전송 속도를 조절하는 흐름 제어 기능이 필요하다.

서비스 프리미티브
- 프로토콜은 계층에 따라 구성되고, 하위 계층이 상위 계층에 제공하는 방식인데 이는 **프리미티브** 형태로 구현된다. 연결형 서비스에는 CONNECT/DISCONNECT/DATA가 있다. 통신에서는 클라이언트가 서버에 요청하는 Request/Indication으로 구현되고, 서버의 응답은 Response/Confirm으로 구현된다.

OSI 7계층 모델
- 네트워크에 연결된 호스트는 7개 계층(물리 계층/데이터 링크 계층/네트워크 계층/전송 계층/세션 계층/표현 계층/응용 계층)에 따른 통신 기능을 맞춰야 한다.
- 데이터 전송은 송신 호스트의 응용 계층에서 시작하여 하위 계층으로 순차적으로 전달되어 마지막에 물리 계층이 수신 호스트에 전달해주는 과정을 거친다. 수신 호스트에서는 바낻로 상위 계층으로 순차적으로 데이터를 이동시켜 응용 계층에 전달한다.

TCP/IP 모델
- 인터넷은 IP프로토콜을 사용하는 네트워크이다. 네트워크 구현 모델은 전송 계층까지의 기능을 운영체제 내부에 구현한다. TCP, UDP는 커널 내부에 구현되어 **소켓 인터페이스**라는 전송 계층의 프리미티브를 사용자 프로그램(세션계층 ~ 응용계층)에서 호출하는 방식으로 사용된다. 
- 데이터 링크 계층(계층2)에서 사용하는 MAC 주소, 네트워크 계층(계층3)에서 사용하는 IP 주소, 전송 계층(계층4)에서 사용하는 포트 번호를 주소로 사용한다. 

ARP/RARP
- 데이터를 전송하기 위해 수신자의 MAC 주소가 필요한데 **ARP**를 통해 상대 호스트의 IP 주소를 이용해 MAC 주소를 획득한다.
- 하드 디스크가 없는 시스템은 LAN 카드를 내장된 MAC 주소를 알 수 있지만 파일 시스템이 없으므로 IP 주소를 알 수 없다. 이 때 MAC 주소를 IP 주소로 변환해주는 시스템이 **RARP**이다.

ICMP
- **ICMP**은 전송 오류가 발생하면 송신자에게 회신하여 복구 작업을 진행한다. 오류 메시지를 전송하기 위한 별도의 헤더를 가지며 IP와 같은 계층으로 취급된다.