# 쉽게 배우는 데이터 통신과 컴퓨터 네트워크 - 요약

- 시스템과 전송 매체의 연결 지점에 대한 규격을 **인터페이스**라고 한다.
- 시스템이 데이터를 교환할 때 **프로토콜**이라는 통신 규칙에 따른다.
- 데이터를 소위 **PDU**라는 특정 형태로 규격화한다. 네트워크 계층에서는 **패킷**, 데이터 링크 계층에서는 **프레임**이라는 용어로 사용된다.
- 주소는 유일성/확장성/편리성/함축성의 특징을 갖는다.
- **IP 주소**는 네트워크 계층의 기능을 담당하는 IP 프로토콜이 호스트를 구분하기 위해 사용하는 주소 체계이다. 32비트의 binary 숫자로 구성되는데 보통 8비트씩 네 부분을 나누어 xxx.xxx.xxx.xx형식으로 사용된다. 

- 일다대 통신에서 특정 네트워크에 연결된 모든 호스트에 데이터를 전송할 수 있는 **브로드캐스팅**이 있고, 사용자를 그룹으로 묶어서 지칭하는 **멀티 캐스팅**이 있다.

오류 제어
- 데이터 송수신 과정에서 오류가 발생할 수 있는데, 데이터가 깨져서 도착하는 **데이터 변형 오류**와 데이터가 유실되는 **데이터 분실 오류**가 있다. 

흐름 제어
- 송수신 호스트 사이에서 데이터 전송/처리 속도 차이 때문에 데이터가 분실되기도 한다. 수신 호스트의 버퍼 처리 속도보다 송신 호스트에서 데이터를 전송하는 속도가 빠르면 분실 오류가 발생하므로 전송 속도를 조절하는 흐름 제어 기능이 필요하다.

서비스 프리미티브
- 프로토콜은 계층에 따라 구성되고, 하위 계층이 상위 계층에 제공하는 방식인데 이는 **프리미티브** 형태로 구현된다. 연결형 서비스에는 CONNECT/DISCONNECT/DATA가 있다. 통신에서는 클라이언트가 서버에 요청하는 Request/Indication으로 구현되고, 서버의 응답은 Response/Confirm으로 구현된다.

OSI 7계층 모델
- 네트워크에 연결된 호스트는 7개 계층(물리 계층/데이터 링크 계층/네트워크 계층/전송 계층/세션 계층/표현 계층/응용 계층)에 따른 통신 기능을 맞춰야 한다.
- 데이터 전송은 송신 호스트의 응용 계층에서 시작하여 하위 계층으로 순차적으로 전달되어 마지막에 물리 계층이 수신 호스트에 전달해주는 과정을 거친다. 수신 호스트에서는 바낻로 상위 계층으로 순차적으로 데이터를 이동시켜 응용 계층에 전달한다.
- OSI 7 계층 모델의 각 계층에선 목적에 따라 사용하는 주소의 형태가 다를 수 있다. *MAC 주소*는 데이터 링크 계층에서 사용하며 보통 LAN 카드에 내장되어 있다. *IP 주소*는 네트워크 계층에서 사용되며 라우팅의 기준이 된다. *포트 주소*는 전송 계층에서 사용되며 호스트에서 실행 중인 프로세스를 구분해준다. *메일 주소*는 응용 계층의 메일 시스템에서 사용되는 예다.

TCP/IP 모델
- 인터넷은 IP프로토콜을 사용하는 네트워크이다. 네트워크 구현 모델은 전송 계층까지의 기능을 운영체제 내부에 구현한다. TCP, UDP는 커널 내부에 구현되어 **소켓 인터페이스**라는 전송 계층의 프리미티브를 사용자 프로그램(세션계층 ~ 응용계층)에서 호출하는 방식으로 사용된다. 
- 데이터 링크 계층(계층2)에서 사용하는 MAC 주소, 네트워크 계층(계층3)에서 사용하는 IP 주소, 전송 계층(계층4)에서 사용하는 포트 번호를 주소로 사용한다. 

ARP/RARP
- 데이터를 전송하기 위해 수신자의 MAC 주소가 필요한데 **ARP**를 통해 상대 호스트의 IP 주소를 이용해 MAC 주소를 획득한다.
- 하드 디스크가 없는 시스템은 LAN 카드를 내장된 MAC 주소를 알 수 있지만 파일 시스템이 없으므로 IP 주소를 알 수 없다. 이 때 MAC 주소를 IP 주소로 변환해주는 시스템이 **RARP**이다.

ICMP
- **ICMP**은 전송 오류가 발생하면 송신자에게 회신하여 복구 작업을 진행한다. 오류 메시지를 전송하기 위한 별도의 헤더를 가지며 IP와 같은 계층으로 취급된다.

교환 시스템
- **교환 시스템**은 데이터를 최종 목적지까지 중개하는 교환 기능을 제공한다. 
- **회선 교환 방식**은 고정 대역으로 할당된 연결을 생성하여 전송하여 전송률이 안정적이다. 
- **패킷 교환 방식**은 데이터를 미리 패킷 단위로 나누어 전송하여 가변 크기의 전송이 가능하다. 

가상 회선
- 연결형 서비스를 지원하기 위한 기능으로, 패킷 교환 방식을 기반으로 전송되는 모든 패킷의 경로가 동일하다. 패킷 단위로 전송되므로 회선 교환 방식은 지원되지 않는다.

데이터그램
- 비연결형 서비스를 지원하기 위한 기능으로, 패킷 교환 방식을 기반으로 전송되는 패킷의 경로가 독립적이다. 

프레임 릴레이
- 오류 제어, 흐름 제어 과정에서 응답 프레임의 전송 횟수를 줄여 고속 데이터 전송을 지원한다. 

네트워크의 구분
- **LAN** : 소규모 지역에 위치하는 호스트로 구성된 네트워크이다. 버스형과 링형의 연결이 있는데 **버스형**은 공유 버스 하나에 여러 호스트를 연결하는 방식이고 **링형**은 호스트의 연결이 순환 구조인 방식이다. 둘 다 브로드캐스팅 방식을 지원한다.
- **MAN** : 중간 규모의 네트워크
- **WAN** : 가장 넓은 범위의 네트워크

인터네트워킹
- **인터네트워킹**이란 네트워크 간의 연결이며, 인터네트워킹 기능을 하는 시스템을 **게이트웨이**라고 한다. 게이트웨이는 보통 리피터/브리지/라우터로 구분된다. 
- 리피터는 물리 계층 기능을 지원하며 증폭시키는 역할을 한다. 
- 브리지는 데이터 링크 계층의 오류를 제어한다. 데이터 링크 계층은 MAC 계층, LLC계층으로 구분할 수 있는데 브리지는 MAC 계층의 헤더를 다른 호스트의 MAC 계층 헤더로 변형해 전송한다. 
- 라우터는 물리+데이터 링크+네트워크 계층을 지원하며 여러 LAN을 연결하여 교환 기능을 수행한다. 브리지의 라우팅 테이블에 따라 수신할 프레임을 무시할지 혹은 다른 LAN에 전달할지 결정한다. 라우팅 테이블은 LAN이 동작하면서 자동 생성되는 체계이다.
- 네트워크가 이중 경로가 생성되지 않도록 비순환 구조가 되어야 하므fh spanning tree가 적용된다. 먼저 root를 지정하여 다른 모든 브리지까지의 최단 경로 트리를 구성하도록 LAN을 구성하는 구조이다.